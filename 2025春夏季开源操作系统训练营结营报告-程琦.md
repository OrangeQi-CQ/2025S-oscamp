---
marp: true
theme: default
paginate: true
_paginate: false
header: ''
footer: '程琦：2025 春夏季开源操作系统训练营——优秀学员报告'
---

# 2025 春夏季开源操作系统训练营——优秀学员报告

程琦，华南理工大学


---
## 一、介绍

个人介绍
- 华南理工大学电力学院，电气工程及其自动化专业，本科；
- 入营前，在操作系统方面有一定理论基础，但是缺乏OS开发实践；

参加训练营的动机：
- 对计算机系统领域感兴趣，未来有志于从事相关的科研和工作；
- 在考研备考过程中增加对操作系统的掌握和理解；
---

## 二、成果汇报

顺利完成前三阶段的基础学习，进入第四阶段的项目实习。

我在第四阶段选择了 “方向一：ArceOS宏内核”，给 Starry-next 操作系统增添新特性：

- 编写一整完整的页缓存系统，接入文件和 mmap相关系统调用。 [pr 链接](https://github.com/oscomp/starry-next/pull/53)
- 实现一套共享内存机制，帮助一些同学通过全国大学生 OS 比赛的 iozone 测例。
[仓库链接](https://github.com/OrangeQi-CQ/starry-next/tree/shm_SystemV)
- 其他一些补丁工作，包括完善 ArceOS 基座和 page_table_multiarch 组件。

---

核心难点：
- 架构设计：创新于 Linux 的页缓存架构，做到底层 Unikernel 基座模块的解耦性；
- mmap 延迟加载：Lazy-alloc 机制；
- 页表反向映射：根据物理页面反向找到所有映射到它的虚拟页面；
- 并发安全和内存安全：充分利用 Rust 的锁机制和 RAII 策略。
- 脏页管理与页面置换：mmap 导致 OS 内核与数据库系统的脏页管理方式不一样；

[详细技术报告链接](https://github.com/OrangeQi-CQ/2025S-oscamp/blob/main/stage-4-report.md)

[项目考核 ppt 链接](https://github.com/OrangeQi-CQ/2025S-oscamp/blob/main/stage-4-slide.pdf)

---

## 三、学习经历和建议

训练营前三个阶段（Rust 学习，rCore 作业，组件化 OS 作业）：
- “学习+做题” 模式；
- 主要难点在于打好 OS 基础，理解项目框架，以“读”和“理解”为主；
- 充分理解框架后，作业题目没有太多编程的技术难点，不要畏惧；

学习建议：
- 多利用 AI(课程群里分享的 DeepWiki 链接)；
- 多参考其他同学的训练营报告；
- 多在课程群里交流，有非常多的助教和同学热情地回答大家的问题；
---

训练营第四阶段（项目阶段）
- 与前三个阶段不同：与训练营导师沟通交流，选择自己感兴趣的课题；
- 走出 “做题模式”，自己学习和探索：
    - 调研其他操作系统的实现（Linux, DragonOS, Occulum, 星绽等）；
    - 阅读论文和手册；
    - 甚至提出自己的创新的设计；
- 主动 push 导师：
    - 训练营导师也有自己的科研工作，不要因为很琐碎的困难消息轰炸他们；
    - 关于各种创新 idea、架构设计、小组合作、code review，主动 push 导师；

---

项目选择建议：

- 我在入营前有一定编程基础和算法基础，所以直接选择为 Starry-next 开发新模块。

- 基础稍薄弱的同学可以从较为简单的工作做起（升级工具链、编写文档、完善 crate 等），这些工作同样非常有价值，并且可以提升个人能力以及对 OS 开发的理解。

- 小组合作：在郑友捷老师的指导下，我与苏博文、王艳东同学共同组成 “Starry-next 地址空间小组”，分别实现了页缓存、大页、COW 机制。在合作交流中共同进步。
---

## 四、训练营收获

知识层面的收获：
- 工程：上手了 Rust 编程语言和 OS 内核开发，提升了工程能力、代码能力；
- 理论：加深了对操作系统原理掌握，有利于考研复习，也为未来的工作打下基础；
- 源码：增加了对 Linux 内核源码的熟悉程度，熟悉了 Linux 源码的整体架构，并对部分模块的技术细节有了一定了解；

---

机会层面的收获：
- 申请并中选中科院开源之夏项目 [基于 Occlum 实现 System V 信号量系统调用](https://summer-ospp.ac.cn/org/prodetail/251ed0122?lang=zh&list=pro)；
导师：贾越凯博士，清华大学计算机系毕业，就职蚂蚁集团，本训练营导师之一。

> Occlum 由蚂蚁集团使用 Rust 研发，是一个适用于 Intel SGX 的内存安全、多进程库操作系统（LibOS），以透明的方式保护用户应用的机密性和完整性。
> 
- 未来会长期参与清华大学操作系统实验室的相关项目，参加相关科研实习；
- 持续参与开源社区，给 Starry-next, DragonOS 等项目做贡献。


--- 

## 五、给主办方的建议

希望开发更多的计算机系统领域的训练营，例如编译器、体系结构、网络等。

清华大学计算机系拥有全国顶尖的科研和教学水平，如果能开放更多清华本科生的课程实验，将造福全国大量对计算机系统感兴趣的同学，也有利于实验室选拔人才。